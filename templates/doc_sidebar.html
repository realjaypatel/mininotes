<aside :class="{'block fixed z-30 top-0 left-0 w-64 h-full bg-white/95 backdrop-blur overflow-y-auto': sidebarOpen, 'hidden lg:block lg:w-72 xl:w-80 border-r bg-white/95 backdrop-blur sticky top-0 h-screen z-30': !sidebarOpen}" class="no-scrollbar">
  <div class="p-4 border-b flex justify-between items-center lg:block">
    <div class="flex items-center gap-2 font-medium text-lg">
      <svg class="w-5 h-5" stroke="currentColor" fill="none" viewBox="0 0 24 24">
        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
      </svg>
      {{ org if org else "TeamSpace" }}
    </div>
    <!-- Close button for mobile -->
    <button @click="sidebarOpen = false" class="lg:hidden text-gray-600 hover:text-gray-900">
      âœ•
    </button>
  </div>

  <div class="px-4 py-6">
    <div class="mb-4">
      <input type="text" placeholder="Search..."
             class="w-full px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring focus:ring-slate-300">
    </div>

    <!-- Top static items -->
    <div class="space-y-2 mb-4">
      <a href="/{{org}}" class="block px-3 py-2 rounded text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900">Home</a>
      <a href="#" class="block px-3 py-2 rounded text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900">Getting Started</a>
      {% if org %}
        <a href="{{ url_for('org_search', org=org) }}" class="block px-3 py-2 rounded text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900">Search Pages</a>
      {% endif %}
    </div>

    <hr class="my-4 border-slate-200">

    <!-- Dynamic spaces -->
    <div class="space-y-2">
      {% if spaces %}
        {% for space in spaces %}
          <a href="{{ url_for('view_space', org=org, space=space.name) }}"
             class="block px-3 py-2 rounded text-sm text-slate-700 hover:bg-slate-100 hover:text-slate-900">
            {{ space.name }}
          </a>
        {% endfor %}
      {% endif %}
    </div>
  </div>
</aside>
